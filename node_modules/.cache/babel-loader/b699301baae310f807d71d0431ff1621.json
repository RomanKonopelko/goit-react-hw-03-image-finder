{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RomanKonopelko\\\\Desktop\\\\go-it\\\\goit-react-hw-03-image-finder\\\\src\\\\App.js\";\nimport { Component } from 'react';\nimport Searchbar from './Components/Searchbar';\nimport imageRequest from './Servises/imageAjax';\nimport ImageGallery from './Components/ImageGallery';\nimport './image.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      searchQuery: '',\n      currentPage: 1\n    };\n\n    this.getQuery = q => {\n      this.setState({\n        searchQuery: q,\n        images: [],\n        currentPage: 1\n      });\n      console.log(this.state.searchQuery);\n    };\n\n    this.fetchArticles = () => {\n      const {\n        currentPage,\n        searchQuery\n      } = this.state;\n      const options = {\n        searchQuery,\n        currentPage\n      };\n      this.setState({\n        isLoading: true\n      });\n      imageRequest(options).then(articles => {\n        this.setState(prevState => ({\n          articles: [...prevState.articles, ...articles],\n          currentPage: prevState.currentPage + 1\n        }));\n      }).catch(error => this.setState({\n        error\n      })).finally(() => this.setState({\n        isLoading: false\n      }));\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n        onSubmit: this.getQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n        images: this.state.images\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/RomanKonopelko/Desktop/go-it/goit-react-hw-03-image-finder/src/App.js"],"names":["Component","Searchbar","imageRequest","ImageGallery","App","state","images","searchQuery","currentPage","getQuery","q","setState","console","log","fetchArticles","options","isLoading","then","articles","prevState","catch","error","finally","render"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,sBAAzB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAO,aAAP;;;;AAEA,MAAMC,GAAN,SAAkBJ,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAC1BK,KAD0B,GAClB;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,WAAW,EAAE,EAFP;AAGNC,MAAAA,WAAW,EAAE;AAHP,KADkB;;AAAA,SAO1BC,QAP0B,GAOfC,CAAC,IAAI;AACd,WAAKC,QAAL,CAAc;AACZJ,QAAAA,WAAW,EAAEG,CADD;AAEZJ,QAAAA,MAAM,EAAE,EAFI;AAGZE,QAAAA,WAAW,EAAE;AAHD,OAAd;AAKAI,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWE,WAAvB;AACD,KAdyB;;AAAA,SAgB1BO,aAhB0B,GAgBV,MAAM;AACpB,YAAM;AAAEN,QAAAA,WAAF;AAAeD,QAAAA;AAAf,UAA+B,KAAKF,KAA1C;AACA,YAAMU,OAAO,GAAG;AAAER,QAAAA,WAAF;AAAeC,QAAAA;AAAf,OAAhB;AAEA,WAAKG,QAAL,CAAc;AAAEK,QAAAA,SAAS,EAAE;AAAb,OAAd;AAEAd,MAAAA,YAAY,CAACa,OAAD,CAAZ,CACGE,IADH,CACQC,QAAQ,IAAI;AAChB,aAAKP,QAAL,CAAcQ,SAAS,KAAK;AAC1BD,UAAAA,QAAQ,EAAE,CAAC,GAAGC,SAAS,CAACD,QAAd,EAAwB,GAAGA,QAA3B,CADgB;AAE1BV,UAAAA,WAAW,EAAEW,SAAS,CAACX,WAAV,GAAwB;AAFX,SAAL,CAAvB;AAID,OANH,EAOGY,KAPH,CAOSC,KAAK,IAAI,KAAKV,QAAL,CAAc;AAAEU,QAAAA;AAAF,OAAd,CAPlB,EAQGC,OARH,CAQW,MAAM,KAAKX,QAAL,CAAc;AAAEK,QAAAA,SAAS,EAAE;AAAb,OAAd,CARjB;AASD,KA/ByB;AAAA;;AAgC1BO,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE,QAAC,SAAD;AAAW,QAAA,QAAQ,EAAE,KAAKd;AAA1B;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,YAAD;AAAc,QAAA,MAAM,EAAE,KAAKJ,KAAL,CAAWC;AAAjC;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA,oBADF;AAMD;;AAvCyB;;AAyC5B,eAAeF,GAAf","sourcesContent":["import { Component } from 'react';\r\nimport Searchbar from './Components/Searchbar';\r\nimport imageRequest from './Servises/imageAjax';\r\nimport ImageGallery from './Components/ImageGallery';\r\nimport './image.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    images: [],\r\n    searchQuery: '',\r\n    currentPage: 1,\r\n  };\r\n\r\n  getQuery = q => {\r\n    this.setState({\r\n      searchQuery: q,\r\n      images: [],\r\n      currentPage: 1,\r\n    });\r\n    console.log(this.state.searchQuery);\r\n  };\r\n\r\n  fetchArticles = () => {\r\n    const { currentPage, searchQuery } = this.state;\r\n    const options = { searchQuery, currentPage };\r\n\r\n    this.setState({ isLoading: true });\r\n\r\n    imageRequest(options)\r\n      .then(articles => {\r\n        this.setState(prevState => ({\r\n          articles: [...prevState.articles, ...articles],\r\n          currentPage: prevState.currentPage + 1,\r\n        }));\r\n      })\r\n      .catch(error => this.setState({ error }))\r\n      .finally(() => this.setState({ isLoading: false }));\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.getQuery} />\r\n        <ImageGallery images={this.state.images} />\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}